<view class="task-publish-page data-v-7d3bccce"><view class="content data-v-7d3bccce"><view class="form-section data-v-7d3bccce"><view class="form-item required data-v-7d3bccce"><text class="form-label data-v-7d3bccce">任务类型</text><view class="type-selector data-v-7d3bccce"><block wx:for="{{taskTypes}}" wx:for-item="item" wx:for-index="__i0__" wx:key="value"><view data-event-opts="{{[['tap',[['selectType',['$0'],[[['taskTypes','value',item.value,'value']]]]]]]}}" class="{{['type-item','data-v-7d3bccce',(formData.taskType===item.value)?'active':'']}}" bindtap="__e"><text class="data-v-7d3bccce">{{item.label}}</text></view></block></view></view><view class="form-item required data-v-7d3bccce"><text class="form-label data-v-7d3bccce">任务标题</text><input class="form-input data-v-7d3bccce" placeholder="请简要描述您的任务需求" maxlength="50" data-event-opts="{{[['input',[['__set_model',['$0','title','$event',[]],['formData']]]]]}}" value="{{formData.title}}" bindinput="__e"/><text class="input-count data-v-7d3bccce">{{$root.g0+"/50"}}</text></view><view class="form-item required data-v-7d3bccce"><text class="form-label data-v-7d3bccce">任务描述</text><textarea class="form-textarea data-v-7d3bccce" placeholder="请详细描述您的任务需求，包括具体要求、注意事项等" maxlength="500" data-event-opts="{{[['input',[['__set_model',['$0','content','$event',[]],['formData']]]]]}}" value="{{formData.content}}" bindinput="__e"></textarea><text class="input-count data-v-7d3bccce">{{$root.g1+"/500"}}</text></view><view class="form-item required data-v-7d3bccce"><text class="form-label data-v-7d3bccce">联系电话</text><input class="form-input data-v-7d3bccce" placeholder="请输入联系电话" type="number" data-event-opts="{{[['input',[['__set_model',['$0','contactPhone','$event',[]],['formData']]]]]}}" value="{{formData.contactPhone}}" bindinput="__e"/></view><view class="form-item required data-v-7d3bccce"><text class="form-label data-v-7d3bccce">联系地址</text><input class="form-input data-v-7d3bccce" placeholder="请输入详细地址" data-event-opts="{{[['input',[['__set_model',['$0','contactAddress','$event',[]],['formData']]]]]}}" value="{{formData.contactAddress}}" bindinput="__e"/></view><view class="form-item required data-v-7d3bccce"><text class="form-label data-v-7d3bccce">截止时间</text><picker mode="date" value="{{formData.deadlineTime}}" start="{{$root.m0}}" data-event-opts="{{[['change',[['onDeadlineTimeChange',['$event']]]]]}}" bindchange="__e" class="data-v-7d3bccce"><view class="picker data-v-7d3bccce">{{''+(formData.deadlineTime||'请选择截止时间')+''}}</view></picker><block wx:if="{{deadlineError}}"><text class="error-text data-v-7d3bccce">截止时间不能早于当前时间</text></block></view><view class="form-item required data-v-7d3bccce"><text class="form-label data-v-7d3bccce">积分奖励</text><input class="form-input data-v-7d3bccce" placeholder="请输入积分奖励数量" type="number" data-event-opts="{{[['input',[['__set_model',['$0','rewardPoints','$event',[]],['formData']]]]]}}" value="{{formData.rewardPoints}}" bindinput="__e"/></view><view class="form-item data-v-7d3bccce"><text class="form-label data-v-7d3bccce">备注</text><textarea class="form-textarea data-v-7d3bccce" placeholder="请输入备注信息（选填）" maxlength="200" data-event-opts="{{[['input',[['__set_model',['$0','remark','$event',[]],['formData']]]]]}}" value="{{formData.remark}}" bindinput="__e"></textarea><text class="input-count data-v-7d3bccce">{{$root.g2+"/200"}}</text></view><view class="form-item data-v-7d3bccce"><text class="form-label data-v-7d3bccce">任务图片</text><view class="image-upload data-v-7d3bccce"><view class="image-list data-v-7d3bccce"><block wx:for="{{formData.taskImages}}" wx:for-item="image" wx:for-index="index" wx:key="index"><view class="image-item data-v-7d3bccce"><image src="{{image}}" mode="aspectFill" data-event-opts="{{[['tap',[['previewImage',[index]]]]]}}" bindtap="__e" class="data-v-7d3bccce"></image><button data-event-opts="{{[['tap',[['deleteImage',[index]]]]]}}" class="delete-image data-v-7d3bccce" bindtap="__e"><u-icon vue-id="{{'2a3e4df8-1-'+index}}" name="close" size="14" color="#fff" class="data-v-7d3bccce" bind:__l="__l"></u-icon></button></view></block><block wx:if="{{$root.g3<6}}"><view data-event-opts="{{[['tap',[['chooseImage',['$event']]]]]}}" class="upload-btn data-v-7d3bccce" bindtap="__e"><u-icon vue-id="2a3e4df8-2" name="camera" size="32" color="#999" class="data-v-7d3bccce" bind:__l="__l"></u-icon><text class="upload-text data-v-7d3bccce">添加图片</text><text class="upload-tips data-v-7d3bccce">最多6张</text></view></block></view></view></view></view><view class="submit-section data-v-7d3bccce"><button class="submit-btn data-v-7d3bccce" disabled="{{!canSubmit||submitting}}" data-event-opts="{{[['tap',[['submitTask',['$event']]]]]}}" bindtap="__e"><block wx:if="{{!submitting}}"><u-icon vue-id="2a3e4df8-3" name="checkmark" size="16" color="#fff" class="data-v-7d3bccce" bind:__l="__l"></u-icon></block><block wx:else><u-loading-icon vue-id="2a3e4df8-4" mode="circle" color="#fff" size="16" class="data-v-7d3bccce" bind:__l="__l"></u-loading-icon></block><text class="data-v-7d3bccce">{{submitting?'提交中...':'发布任务'}}</text></button></view></view></view>