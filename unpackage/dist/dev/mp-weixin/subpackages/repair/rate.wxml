<view class="page-container data-v-355b3f22"><block wx:if="{{!loading&&!error}}"><view class="repair-rate-page data-v-355b3f22"><view class="header data-v-355b3f22"><text class="title data-v-355b3f22">服务评价</text></view><view class="content data-v-355b3f22"><block wx:if="{{repairInfo}}"><view class="rate-card data-v-355b3f22"><view class="card-header data-v-355b3f22"><view class="service-info data-v-355b3f22"><text class="service-title data-v-355b3f22">{{repairInfo.title}}</text><text class="service-category data-v-355b3f22">{{repairInfo.categoryName}}</text></view><view class="service-status data-v-355b3f22"><view class="status-badge completed data-v-355b3f22"><u-icon vue-id="760d2624-1" name="checkmark" size="16" color="#52c41a" class="data-v-355b3f22" bind:__l="__l"></u-icon><text class="data-v-355b3f22">已完成</text></view></view></view><block wx:if="{{repairInfo.handlerName}}"><view class="handler-info data-v-355b3f22"><u-icon vue-id="760d2624-2" name="user" size="20" color="#3b5598" class="data-v-355b3f22" bind:__l="__l"></u-icon><text class="data-v-355b3f22">{{"服务人员："+repairInfo.handlerName}}</text></view></block><block wx:if="{{repairInfo.completeTime}}"><view class="complete-time data-v-355b3f22"><u-icon vue-id="760d2624-3" name="clock" size="20" color="#666" class="data-v-355b3f22" bind:__l="__l"></u-icon><text class="data-v-355b3f22">{{"完成时间："+$root.m0}}</text></view></block></view></block><view class="rating-section data-v-355b3f22"><view class="section-title data-v-355b3f22"><u-icon vue-id="760d2624-4" name="star" size="24" color="#3b5598" class="data-v-355b3f22" bind:__l="__l"></u-icon><text class="data-v-355b3f22">服务评分</text></view><view class="rating-container data-v-355b3f22"><text class="rating-label data-v-355b3f22">请对本次服务进行评分</text><view class="rating-stars data-v-355b3f22"><block wx:for="{{5}}" wx:for-item="i" wx:for-index="__i0__" wx:key="*this"><view data-event-opts="{{[['tap',[['selectRating',['$0'],[[[5,'',__i0__]]]]]]]}}" class="star-item data-v-355b3f22" bindtap="__e"><u-icon vue-id="{{'760d2624-5-'+__i0__}}" name="{{i<=rating?'star-fill':'star'}}" size="64" color="{{i<=rating?'#ffc107':'#ddd'}}" class="data-v-355b3f22" bind:__l="__l"></u-icon></view></block></view><text class="rating-text data-v-355b3f22">{{$root.m1}}</text></view><block wx:if="{{rating>0}}"><view class="rating-dimensions data-v-355b3f22"><view class="dimension-item data-v-355b3f22"><text class="dimension-label data-v-355b3f22">服务态度</text><view class="dimension-stars data-v-355b3f22"><block wx:for="{{5}}" wx:for-item="i" wx:for-index="__i1__" wx:key="*this"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" data-event-params="{{({i})}}" class="mini-star data-v-355b3f22" bindtap="__e"><u-icon vue-id="{{'760d2624-6-'+__i1__}}" name="{{i<=ratings.attitude?'star-fill':'star'}}" size="32" color="{{i<=ratings.attitude?'#ffc107':'#ddd'}}" class="data-v-355b3f22" bind:__l="__l"></u-icon></view></block></view></view><view class="dimension-item data-v-355b3f22"><text class="dimension-label data-v-355b3f22">专业水平</text><view class="dimension-stars data-v-355b3f22"><block wx:for="{{5}}" wx:for-item="i" wx:for-index="__i2__" wx:key="*this"><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" data-event-params="{{({i})}}" class="mini-star data-v-355b3f22" bindtap="__e"><u-icon vue-id="{{'760d2624-7-'+__i2__}}" name="{{i<=ratings.professional?'star-fill':'star'}}" size="32" color="{{i<=ratings.professional?'#ffc107':'#ddd'}}" class="data-v-355b3f22" bind:__l="__l"></u-icon></view></block></view></view><view class="dimension-item data-v-355b3f22"><text class="dimension-label data-v-355b3f22">响应速度</text><view class="dimension-stars data-v-355b3f22"><block wx:for="{{5}}" wx:for-item="i" wx:for-index="__i3__" wx:key="*this"><view data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" data-event-params="{{({i})}}" class="mini-star data-v-355b3f22" bindtap="__e"><u-icon vue-id="{{'760d2624-8-'+__i3__}}" name="{{i<=ratings.response?'star-fill':'star'}}" size="32" color="{{i<=ratings.response?'#ffc107':'#ddd'}}" class="data-v-355b3f22" bind:__l="__l"></u-icon></view></block></view></view></view></block></view><view class="feedback-section data-v-355b3f22"><view class="section-title data-v-355b3f22"><u-icon vue-id="760d2624-9" name="edit" size="24" color="#3b5598" class="data-v-355b3f22" bind:__l="__l"></u-icon><text class="data-v-355b3f22">评价内容</text></view><textarea class="feedback-textarea data-v-355b3f22" placeholder="请分享您的服务体验，您的评价对我们很重要..." maxlength="500" data-event-opts="{{[['input',[['__set_model',['','feedback','$event',[]]]]]]}}" value="{{feedback}}" bindinput="__e"></textarea><text class="char-count data-v-355b3f22">{{$root.g0+"/500"}}</text><view class="quick-tags data-v-355b3f22"><text class="tags-title data-v-355b3f22">快速评价</text><view class="tag-list data-v-355b3f22"><block wx:for="{{$root.l0}}" wx:for-item="tag" wx:for-index="__i4__" wx:key="$orig"><view data-event-opts="{{[['tap',[['toggleTag',['$0'],[[['quickTags','',__i4__]]]]]]]}}" class="{{['tag-item','data-v-355b3f22',(tag.g1)?'active':'']}}" bindtap="__e">{{''+tag.$orig+''}}</view></block></view></view></view><view class="submit-section data-v-355b3f22"><button class="submit-btn data-v-355b3f22" disabled="{{!canSubmit||submitting}}" data-event-opts="{{[['tap',[['submitRating',['$event']]]]]}}" bindtap="__e"><block wx:if="{{!submitting}}"><u-icon vue-id="760d2624-10" name="checkmark" size="18" color="#fff" class="data-v-355b3f22" bind:__l="__l"></u-icon></block><block wx:else><u-loading-icon vue-id="760d2624-11" mode="circle" color="#fff" size="18" class="data-v-355b3f22" bind:__l="__l"></u-loading-icon></block><text class="data-v-355b3f22">{{submitting?'提交中...':'提交评价'}}</text></button></view></view></view></block><block wx:else><block wx:if="{{loading}}"><view class="loading-state data-v-355b3f22"><u-loading-icon vue-id="760d2624-12" mode="circle" color="#3b5598" size="40" class="data-v-355b3f22" bind:__l="__l"></u-loading-icon><text class="data-v-355b3f22">加载中...</text></view></block><block wx:else><view class="error-state data-v-355b3f22"><u-icon vue-id="760d2624-13" name="alert-circle" size="64" color="#ddd" class="data-v-355b3f22" bind:__l="__l"></u-icon><text class="error-text data-v-355b3f22">加载失败</text><button data-event-opts="{{[['tap',[['loadRepairInfo',['$event']]]]]}}" class="retry-btn data-v-355b3f22" bindtap="__e">重试</button></view></block></block></view>