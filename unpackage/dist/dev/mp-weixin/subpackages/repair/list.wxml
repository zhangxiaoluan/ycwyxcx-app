<view class="repair-list-page data-v-6c6493e0"><view class="content data-v-6c6493e0"><view class="filter-tabs data-v-6c6493e0"><view data-event-opts="{{[['tap',[['switchTab',['all']]]]]}}" class="{{['tab-item','data-v-6c6493e0',(currentTab==='all')?'active':'']}}" bindtap="__e"><text class="data-v-6c6493e0">全部</text><block wx:if="{{$root.m0>0}}"><view class="badge data-v-6c6493e0">{{$root.m1}}</view></block></view><view data-event-opts="{{[['tap',[['switchTab',['pending']]]]]}}" class="{{['tab-item','data-v-6c6493e0',(currentTab==='pending')?'active':'']}}" bindtap="__e"><text class="data-v-6c6493e0">处理中</text><block wx:if="{{$root.m2>0}}"><view class="badge data-v-6c6493e0">{{$root.m3}}</view></block></view><view data-event-opts="{{[['tap',[['switchTab',['completed']]]]]}}" class="{{['tab-item','data-v-6c6493e0',(currentTab==='completed')?'active':'']}}" bindtap="__e"><text class="data-v-6c6493e0">已完成</text></view><view data-event-opts="{{[['tap',[['switchTab',['rated']]]]]}}" class="{{['tab-item','data-v-6c6493e0',(currentTab==='rated')?'active':'']}}" bindtap="__e"><text class="data-v-6c6493e0">已评价</text></view></view><block wx:if="{{$root.g0>0}}"><view class="repair-list data-v-6c6493e0"><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="__i0__" wx:key="id"><view data-event-opts="{{[['tap',[['viewRepairDetail',['$0'],[[['filteredRepairs','id',item.$orig.id]]]]]]]}}" class="repair-item data-v-6c6493e0" bindtap="__e"><view class="item-header data-v-6c6493e0"><view class="category-info data-v-6c6493e0"><text class="category-name data-v-6c6493e0">{{item.$orig.categoryName}}</text><view class="{{['urgency-badge','data-v-6c6493e0','urgency-'+item.$orig.urgentLevel]}}">{{''+item.$orig.urgentLevelDesc+''}}</view></view><view class="{{['status-badge','data-v-6c6493e0','status-'+item.$orig.status]}}">{{''+item.$orig.statusDesc+''}}</view></view><view class="item-content data-v-6c6493e0"><text class="repair-title data-v-6c6493e0">{{item.$orig.title}}</text><block wx:if="{{item.$orig.description}}"><text class="repair-desc data-v-6c6493e0">{{item.$orig.description}}</text></block><block wx:if="{{item.$orig.location}}"><view class="repair-location data-v-6c6493e0"><u-icon vue-id="{{'202e6926-1-'+__i0__}}" name="map" size="14" color="#666" class="data-v-6c6493e0" bind:__l="__l"></u-icon><text class="data-v-6c6493e0">{{item.$orig.location}}</text></view></block></view><block wx:if="{{item.g1}}"><view class="item-images data-v-6c6493e0"><block wx:for="{{item.l0}}" wx:for-item="img" wx:for-index="index" wx:key="index"><image src="{{img}}" mode="aspectFill" data-event-opts="{{[['tap',[['previewImage',['$0',index],[[['filteredRepairs','id',item.$orig.id,'imageList']]]]]]]}}" catchtap="__e" class="data-v-6c6493e0"></image></block><block wx:if="{{item.g2>3}}"><view class="more-images data-v-6c6493e0"><text class="data-v-6c6493e0">{{"+"+(item.g3-3)}}</text></view></block></view></block><view class="item-footer data-v-6c6493e0"><view class="time-info data-v-6c6493e0"><text class="create-time data-v-6c6493e0">{{"申请时间："+item.m4}}</text><text class="request-no data-v-6c6493e0">{{"单号："+item.$orig.requestNo}}</text></view></view></view></block></view></block><block wx:else><block wx:if="{{!loading}}"><view class="empty-state data-v-6c6493e0"><u-icon vue-id="202e6926-2" name="warning" size="64" color="#ddd" class="data-v-6c6493e0" bind:__l="__l"></u-icon><text class="empty-text data-v-6c6493e0">暂无报修记录</text></view></block></block><button data-event-opts="{{[['tap',[['applyRepair',['$event']]]]]}}" class="empty-btn data-v-6c6493e0" bindtap="__e">申请报修</button><block wx:if="{{$root.g4}}"><view class="loading-more data-v-6c6493e0"><u-loading-icon vue-id="202e6926-3" mode="circle" color="#3b5598" class="data-v-6c6493e0" bind:__l="__l"></u-loading-icon><text class="data-v-6c6493e0">加载中...</text></view></block></view></view>