<view class="page-container data-v-5b3d3e22"><block wx:if="{{!loading&&!error}}"><view class="repair-progress-page data-v-5b3d3e22"><view class="header data-v-5b3d3e22"><text class="title data-v-5b3d3e22">处理进度</text><block wx:if="{{requestNo}}"><text class="request-no data-v-5b3d3e22">{{requestNo}}</text></block></view><view class="content data-v-5b3d3e22"><block wx:if="{{currentProgress}}"><view class="status-card data-v-5b3d3e22"><view class="status-header data-v-5b3d3e22"><view class="{{['status-icon','data-v-5b3d3e22','status-'+currentProgress.status]}}"><block wx:if="{{currentProgress.status===1}}"><u-icon vue-id="79cb3df7-1" name="clock" size="32" color="#fff" class="data-v-5b3d3e22" bind:__l="__l"></u-icon></block><block wx:else><block wx:if="{{currentProgress.status===2}}"><u-icon vue-id="79cb3df7-2" name="reload" size="32" color="#fff" class="data-v-5b3d3e22" bind:__l="__l"></u-icon></block><block wx:else><block wx:if="{{currentProgress.status===3}}"><u-icon vue-id="79cb3df7-3" name="tools" size="32" color="#fff" class="data-v-5b3d3e22" bind:__l="__l"></u-icon></block><block wx:else><u-icon vue-id="79cb3df7-4" name="checkmark" size="32" color="#fff" class="data-v-5b3d3e22" bind:__l="__l"></u-icon></block></block></block></view><view class="status-info data-v-5b3d3e22"><text class="status-title data-v-5b3d3e22">{{currentProgress.statusDesc}}</text><text class="status-time data-v-5b3d3e22">{{$root.m0}}</text></view></view><block wx:if="{{currentProgress.description}}"><view class="status-desc data-v-5b3d3e22">{{''+currentProgress.description+''}}</view></block></view></block><block wx:if="{{$root.g0}}"><view class="timeline-section data-v-5b3d3e22"><view class="section-title data-v-5b3d3e22"><u-icon vue-id="79cb3df7-5" name="clock" size="20" color="#3b5598" class="data-v-5b3d3e22" bind:__l="__l"></u-icon><text class="data-v-5b3d3e22">处理进度</text></view><view class="timeline data-v-5b3d3e22"><block wx:for="{{$root.l1}}" wx:for-item="progress" wx:for-index="index" wx:key="id"><view class="timeline-item data-v-5b3d3e22"><view class="{{['timeline-dot','data-v-5b3d3e22','dot-'+progress.$orig.status]}}"><block wx:if="{{progress.$orig.status===4}}"><u-icon vue-id="{{'79cb3df7-6-'+index}}" name="checkmark" size="20" color="#fff" class="data-v-5b3d3e22" bind:__l="__l"></u-icon></block></view><view class="timeline-content data-v-5b3d3e22"><view class="timeline-header data-v-5b3d3e22"><text class="timeline-status data-v-5b3d3e22">{{progress.$orig.statusDesc}}</text><text class="timeline-time data-v-5b3d3e22">{{progress.m1}}</text></view><block wx:if="{{progress.$orig.operatorName}}"><view class="timeline-operator data-v-5b3d3e22"><u-icon vue-id="{{'79cb3df7-7-'+index}}" name="user" size="14" color="#666" class="data-v-5b3d3e22" bind:__l="__l"></u-icon><text class="data-v-5b3d3e22">{{progress.$orig.operatorName}}</text><text class="operator-type data-v-5b3d3e22">{{progress.$orig.operatorTypeDesc}}</text></view></block><block wx:if="{{progress.$orig.description}}"><view class="timeline-desc data-v-5b3d3e22">{{''+progress.$orig.description+''}}</view></block><block wx:if="{{progress.g1}}"><view class="timeline-images data-v-5b3d3e22"><block wx:for="{{progress.l0}}" wx:for-item="img" wx:for-index="imgIndex" wx:key="imgIndex"><image src="{{img}}" mode="aspectFill" data-event-opts="{{[['tap',[['previewImage',['$0',imgIndex],[[['progressList','id',progress.$orig.id,'imageList']]]]]]]}}" bindtap="__e" class="data-v-5b3d3e22"></image></block><block wx:if="{{progress.g2>3}}"><view class="more-images data-v-5b3d3e22"><text class="data-v-5b3d3e22">{{"+"+(progress.g3-3)}}</text></view></block></view></block></view></view></block></view></view></block><block wx:if="{{handlerInfo}}"><view class="handler-section data-v-5b3d3e22"><view class="section-title data-v-5b3d3e22"><u-icon vue-id="79cb3df7-8" name="user" size="20" color="#3b5598" class="data-v-5b3d3e22" bind:__l="__l"></u-icon><text class="data-v-5b3d3e22">处理人员</text></view><view class="handler-card data-v-5b3d3e22"><view class="handler-info data-v-5b3d3e22"><view class="handler-avatar data-v-5b3d3e22"><u-icon vue-id="79cb3df7-9" name="user" size="40" color="#3b5598" class="data-v-5b3d3e22" bind:__l="__l"></u-icon></view><view class="handler-details data-v-5b3d3e22"><text class="handler-name data-v-5b3d3e22">{{handlerInfo.handlerName}}</text><text class="handler-role data-v-5b3d3e22">维修工程师</text></view></view><view class="handler-actions data-v-5b3d3e22"><button data-event-opts="{{[['tap',[['contactHandler',['$event']]]]]}}" class="contact-btn data-v-5b3d3e22" bindtap="__e"><u-icon vue-id="79cb3df7-10" name="phone" size="16" color="#3b5598" class="data-v-5b3d3e22" bind:__l="__l"></u-icon><text class="data-v-5b3d3e22">联系</text></button></view></view></view></block><block wx:if="{{estimatedTime}}"><view class="estimate-section data-v-5b3d3e22"><view class="section-title data-v-5b3d3e22"><u-icon vue-id="79cb3df7-11" name="calendar" size="20" color="#3b5598" class="data-v-5b3d3e22" bind:__l="__l"></u-icon><text class="data-v-5b3d3e22">预计完成</text></view><view class="estimate-card data-v-5b3d3e22"><view class="estimate-time data-v-5b3d3e22"><u-icon vue-id="79cb3df7-12" name="clock" size="24" color="#ffc107" class="data-v-5b3d3e22" bind:__l="__l"></u-icon><text class="data-v-5b3d3e22">{{estimatedTime}}</text></view><text class="estimate-desc data-v-5b3d3e22">预计将在该时间完成维修工作</text></view></view></block></view></view></block><block wx:else><block wx:if="{{loading}}"><view class="loading-state data-v-5b3d3e22"><u-loading-icon vue-id="79cb3df7-13" mode="circle" color="#3b5598" size="40" class="data-v-5b3d3e22" bind:__l="__l"></u-loading-icon><text class="data-v-5b3d3e22">加载中...</text></view></block><block wx:else><view class="error-state data-v-5b3d3e22"><u-icon vue-id="79cb3df7-14" name="alert-circle" size="64" color="#ddd" class="data-v-5b3d3e22" bind:__l="__l"></u-icon><text class="error-text data-v-5b3d3e22">加载失败</text><button data-event-opts="{{[['tap',[['loadProgress',['$event']]]]]}}" class="retry-btn data-v-5b3d3e22" bindtap="__e">重试</button></view></block></block></view>