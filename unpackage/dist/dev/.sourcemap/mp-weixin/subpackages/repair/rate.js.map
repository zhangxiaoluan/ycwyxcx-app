{"version":3,"sources":["uni-app:///main.js","webpack:////Users/salvater/web/kai-nan/zhi-hui-wu-ye/ycwyxcx-app/subpackages/repair/rate.vue?1112","webpack:////Users/salvater/web/kai-nan/zhi-hui-wu-ye/ycwyxcx-app/subpackages/repair/rate.vue?fb91","webpack:////Users/salvater/web/kai-nan/zhi-hui-wu-ye/ycwyxcx-app/subpackages/repair/rate.vue?bfd9","webpack:////Users/salvater/web/kai-nan/zhi-hui-wu-ye/ycwyxcx-app/subpackages/repair/rate.vue?a3f3","uni-app:///subpackages/repair/rate.vue","webpack:////Users/salvater/web/kai-nan/zhi-hui-wu-ye/ycwyxcx-app/subpackages/repair/rate.vue?acf1","webpack:////Users/salvater/web/kai-nan/zhi-hui-wu-ye/ycwyxcx-app/subpackages/repair/rate.vue?fe4e"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","data","repairId","repairInfo","rating","ratings","attitude","professional","response","feedback","selectedTags","quickTags","loading","error","submitting","computed","canSubmit","onLoad","uni","title","icon","methods","loadRepairInfo","page","size","res","repair","content","showCancel","success","selectRating","getRatingText","toggleTag","formatDateTime","submitRating","finalFeedback","submitData","setTimeout"],"mappings":"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","file":"subpackages/repair/rate.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subpackages/repair/rate.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./rate.vue?vue&type=template&id=355b3f22&scoped=true&\"\nvar renderjs\nimport script from \"./rate.vue?vue&type=script&lang=js&\"\nexport * from \"./rate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rate.vue?vue&type=style&index=0&id=355b3f22&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"355b3f22\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpackages/repair/rate.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rate.vue?vue&type=template&id=355b3f22&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uLoadingIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-loading-icon/u-loading-icon\" */ \"@/uni_modules/uview-ui/components/u-loading-icon/u-loading-icon.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 =\n    !_vm.loading && !_vm.error && _vm.repairInfo && _vm.repairInfo.completeTime\n      ? _vm.formatDateTime(_vm.repairInfo.completeTime)\n      : null\n  var m1 = !_vm.loading && !_vm.error ? _vm.getRatingText(_vm.rating) : null\n  var g0 = !_vm.loading && !_vm.error ? _vm.feedback.length : null\n  var l0 =\n    !_vm.loading && !_vm.error\n      ? _vm.__map(_vm.quickTags, function (tag, __i4__) {\n          var $orig = _vm.__get_orig(tag)\n          var g1 = _vm.selectedTags.includes(tag)\n          return {\n            $orig: $orig,\n            g1: g1,\n          }\n        })\n      : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event, i) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        i = _temp2.i\n      var _temp, _temp2\n      _vm.ratings.attitude = i\n    }\n    _vm.e1 = function ($event, i) {\n      var _temp3 = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp4 = _temp3.eventParams || _temp3[\"event-params\"],\n        i = _temp4.i\n      var _temp3, _temp4\n      _vm.ratings.professional = i\n    }\n    _vm.e2 = function ($event, i) {\n      var _temp5 = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp6 = _temp5.eventParams || _temp5[\"event-params\"],\n        i = _temp6.i\n      var _temp5, _temp6\n      _vm.ratings.response = i\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        g0: g0,\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rate.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"page-container\">\n    <view class=\"repair-rate-page\" v-if=\"!loading && !error\">\n      <view class=\"header\">\n        <text class=\"title\">服务评价</text>\n      </view>\n\n      <view class=\"content\">\n        <!-- 评价卡片 -->\n        <view class=\"rate-card\" v-if=\"repairInfo\">\n          <view class=\"card-header\">\n            <view class=\"service-info\">\n              <text class=\"service-title\">{{ repairInfo.title }}</text>\n              <text class=\"service-category\">{{ repairInfo.categoryName }}</text>\n            </view>\n            <view class=\"service-status\">\n              <view class=\"status-badge completed\">\n                <u-icon name=\"checkmark\" size=\"16\" color=\"#52c41a\"></u-icon>\n                <text>已完成</text>\n              </view>\n            </view>\n          </view>\n\n          <view class=\"handler-info\" v-if=\"repairInfo.handlerName\">\n            <u-icon name=\"user\" size=\"20\" color=\"#3b5598\"></u-icon>\n            <text>服务人员：{{ repairInfo.handlerName }}</text>\n          </view>\n\n          <view class=\"complete-time\" v-if=\"repairInfo.completeTime\">\n            <u-icon name=\"clock\" size=\"20\" color=\"#666\"></u-icon>\n            <text>完成时间：{{ formatDateTime(repairInfo.completeTime) }}</text>\n          </view>\n        </view>\n\n        <!-- 评分区域 -->\n        <view class=\"rating-section\">\n          <view class=\"section-title\">\n            <u-icon name=\"star\" size=\"24\" color=\"#3b5598\"></u-icon>\n            <text>服务评分</text>\n          </view>\n\n          <view class=\"rating-container\">\n            <text class=\"rating-label\">请对本次服务进行评分</text>\n            <view class=\"rating-stars\">\n              <view\n                class=\"star-item\"\n                v-for=\"i in 5\"\n                :key=\"i\"\n                @click=\"selectRating(i)\"\n              >\n                <u-icon\n                  :name=\"i <= rating ? 'star-fill' : 'star'\"\n                  size=\"64\"\n                  :color=\"i <= rating ? '#ffc107' : '#ddd'\"\n                ></u-icon>\n              </view>\n            </view>\n            <text class=\"rating-text\">{{ getRatingText(rating) }}</text>\n          </view>\n\n          <!-- 评分维度 -->\n          <view class=\"rating-dimensions\" v-if=\"rating > 0\">\n            <view class=\"dimension-item\">\n              <text class=\"dimension-label\">服务态度</text>\n              <view class=\"dimension-stars\">\n                <view\n                  class=\"mini-star\"\n                  v-for=\"i in 5\"\n                  :key=\"i\"\n                  @click=\"ratings.attitude = i\"\n                >\n                  <u-icon\n                    :name=\"i <= ratings.attitude ? 'star-fill' : 'star'\"\n                    size=\"32\"\n                    :color=\"i <= ratings.attitude ? '#ffc107' : '#ddd'\"\n                  ></u-icon>\n                </view>\n              </view>\n            </view>\n\n            <view class=\"dimension-item\">\n              <text class=\"dimension-label\">专业水平</text>\n              <view class=\"dimension-stars\">\n                <view\n                  class=\"mini-star\"\n                  v-for=\"i in 5\"\n                  :key=\"i\"\n                  @click=\"ratings.professional = i\"\n                >\n                  <u-icon\n                    :name=\"i <= ratings.professional ? 'star-fill' : 'star'\"\n                    size=\"32\"\n                    :color=\"i <= ratings.professional ? '#ffc107' : '#ddd'\"\n                  ></u-icon>\n                </view>\n              </view>\n            </view>\n\n            <view class=\"dimension-item\">\n              <text class=\"dimension-label\">响应速度</text>\n              <view class=\"dimension-stars\">\n                <view\n                  class=\"mini-star\"\n                  v-for=\"i in 5\"\n                  :key=\"i\"\n                  @click=\"ratings.response = i\"\n                >\n                  <u-icon\n                    :name=\"i <= ratings.response ? 'star-fill' : 'star'\"\n                    size=\"32\"\n                    :color=\"i <= ratings.response ? '#ffc107' : '#ddd'\"\n                  ></u-icon>\n                </view>\n              </view>\n            </view>\n          </view>\n        </view>\n\n        <!-- 评价内容 -->\n        <view class=\"feedback-section\">\n          <view class=\"section-title\">\n            <u-icon name=\"edit\" size=\"24\" color=\"#3b5598\"></u-icon>\n            <text>评价内容</text>\n          </view>\n\n          <textarea\n            v-model=\"feedback\"\n            class=\"feedback-textarea\"\n            placeholder=\"请分享您的服务体验，您的评价对我们很重要...\"\n            maxlength=\"500\"\n          ></textarea>\n          <text class=\"char-count\">{{ feedback.length }}/500</text>\n\n          <!-- 快速标签 -->\n          <view class=\"quick-tags\">\n            <text class=\"tags-title\">快速评价</text>\n            <view class=\"tag-list\">\n              <view\n                class=\"tag-item\"\n                v-for=\"tag in quickTags\"\n                :key=\"tag\"\n                :class=\"{ active: selectedTags.includes(tag) }\"\n                @click=\"toggleTag(tag)\"\n              >\n                {{ tag }}\n              </view>\n            </view>\n          </view>\n        </view>\n\n        <!-- 提交按钮 -->\n        <view class=\"submit-section\">\n          <button\n            class=\"submit-btn\"\n            @click=\"submitRating\"\n            :disabled=\"!canSubmit || submitting\"\n          >\n            <u-icon name=\"checkmark\" size=\"18\" color=\"#fff\" v-if=\"!submitting\"></u-icon>\n            <u-loading-icon mode=\"circle\" color=\"#fff\" size=\"18\" v-else></u-loading-icon>\n            <text>{{ submitting ? '提交中...' : '提交评价' }}</text>\n          </button>\n        </view>\n      </view>\n    </view>\n\n    <view class=\"loading-state\" v-else-if=\"loading\">\n      <u-loading-icon mode=\"circle\" color=\"#3b5598\" size=\"40\"></u-loading-icon>\n      <text>加载中...</text>\n    </view>\n\n    <view class=\"error-state\" v-else>\n      <u-icon name=\"alert-circle\" size=\"64\" color=\"#ddd\"></u-icon>\n      <text class=\"error-text\">加载失败</text>\n      <button class=\"retry-btn\" @click=\"loadRepairInfo\">重试</button>\n    </view>\n  </view>\n</template>\n\n<script>\nimport { getRepairList, submitRepairRate } from '@/api/list/repair'\n\nexport default {\n  name: 'repair-rate',\n  data() {\n    return {\n      repairId: '',\n      repairInfo: null,\n      rating: 0,\n      ratings: {\n        attitude: 0,\n        professional: 0,\n        response: 0\n      },\n      feedback: '',\n      selectedTags: [],\n      quickTags: [\n        '服务态度很好',\n        '专业水平高',\n        '响应及时',\n        '解决问题快',\n        '认真负责',\n        '耐心解答',\n        '技术过硬',\n        '服务规范'\n      ],\n      loading: false,\n      error: false,\n      submitting: false\n    }\n  },\n  computed: {\n    canSubmit() {\n      return this.rating > 0 && this.feedback.trim().length > 0\n    }\n  },\n  onLoad(options) {\n    if (options.id) {\n      this.repairId = options.id\n      this.loadRepairInfo()\n    } else {\n      uni.showToast({\n        title: '参数错误',\n        icon: 'none'\n      })\n      uni.navigateBack()\n    }\n  },\n  methods: {\n    async loadRepairInfo() {\n      if (this.loading) return\n\n      this.loading = true\n      try {\n        const res = await getRepairList({\n          page: 1,\n          size: 100\n        })\n\n        const repair = res.records.find(item => item.id == this.repairId)\n        if (repair) {\n          if (!repair.canRate || repair.status !== 4) {\n            uni.showModal({\n              title: '提示',\n              content: '该报修单无法评价',\n              showCancel: false,\n              success: () => {\n                uni.navigateBack()\n              }\n            })\n            return\n          }\n          this.repairInfo = repair\n        } else {\n          throw new Error('报修记录不存在')\n        }\n\n      } catch (error) {\n        uni.showToast({\n          title: '加载失败',\n          icon: 'none'\n        })\n      } finally {\n        this.loading = false\n      }\n    },\n    selectRating(value) {\n      this.rating = value\n      // 选择总体评分时，自动设置各维度评分\n      if (value > 0) {\n        this.ratings.attitude = value\n        this.ratings.professional = value\n        this.ratings.response = value\n      }\n    },\n    getRatingText(rating) {\n      const texts = {\n        1: '非常不满意',\n        2: '不满意',\n        3: '一般',\n        4: '满意',\n        5: '非常满意'\n      }\n      return texts[rating] || '请评分'\n    },\n    toggleTag(tag) {\n      const index = this.selectedTags.indexOf(tag)\n      if (index > -1) {\n        this.selectedTags.splice(index, 1)\n      } else {\n        if (this.selectedTags.length < 3) {\n          this.selectedTags.push(tag)\n        } else {\n          uni.showToast({\n            title: '最多选择3个标签',\n            icon: 'none'\n          })\n        }\n      }\n    },\n    formatDateTime(time) {\n      if (!time) return ''\n      const date = new Date(time)\n      return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`\n    },\n    async submitRating() {\n      if (!this.canSubmit || this.submitting) return\n\n      // 验证必填项\n      if (this.rating === 0) {\n        uni.showToast({\n          title: '请选择评分',\n          icon: 'none'\n        })\n        return\n      }\n\n      if (!this.feedback.trim()) {\n        uni.showToast({\n          title: '请填写评价内容',\n          icon: 'none'\n        })\n        return\n      }\n\n      this.submitting = true\n\n      try {\n        // 构建评价内容\n        let finalFeedback = this.feedback.trim()\n        if (this.selectedTags.length > 0) {\n          finalFeedback += `\\n\\n标签：${this.selectedTags.join(', ')}`\n        }\n\n        const submitData = {\n          rating: this.rating,\n          feedback: finalFeedback\n        }\n\n        await submitRepairRate(this.repairId, submitData)\n\n        uni.showToast({\n          title: '评价成功',\n          icon: 'success'\n        })\n\n        setTimeout(() => {\n          uni.navigateBack()\n        }, 1500)\n\n      } catch (error) {\n        uni.showToast({\n          title: '评价失败',\n          icon: 'none'\n        })\n      } finally {\n        this.submitting = false\n      }\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.page-container {\n  min-height: 100vh;\n  background: linear-gradient(to right, #e0ecfa 0%, #f4f6f9 50%, #f6f4fc 100%);\n}\n\n.repair-rate-page {\n  min-height: 100vh;\n}\n\n.header {\n  background: linear-gradient(135deg, #3b5598 0%, #2c3e50 100%);\n  padding: 20rpx 30rpx 40rpx;\n\n  .title {\n    font-size: 36rpx;\n    font-weight: 600;\n    color: #fff;\n  }\n}\n\n.content {\n  padding: 20rpx;\n}\n\n.rate-card {\n  background: #fff;\n  border-radius: 16rpx;\n  padding: 30rpx;\n  margin-bottom: 20rpx;\n  box-shadow: 0 4rpx 20rpx rgba(59, 85, 152, 0.1);\n\n  .card-header {\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n    margin-bottom: 20rpx;\n\n    .service-info {\n      flex: 1;\n\n      .service-title {\n        font-size: 30rpx;\n        font-weight: 600;\n        color: #333;\n        display: block;\n        margin-bottom: 8rpx;\n      }\n\n      .service-category {\n        font-size: 24rpx;\n        color: #666;\n      }\n    }\n\n    .service-status {\n      .status-badge {\n        display: flex;\n        align-items: center;\n        gap: 8rpx;\n        padding: 8rpx 16rpx;\n        border-radius: 8rpx;\n        font-size: 22rpx;\n\n        &.completed {\n          background: #f6ffed;\n          color: #52c41a;\n        }\n      }\n    }\n  }\n\n  .handler-info, .complete-time {\n    display: flex;\n    align-items: center;\n    gap: 12rpx;\n    margin-bottom: 12rpx;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n\n    text {\n      font-size: 26rpx;\n      color: #666;\n    }\n  }\n}\n\n.rating-section, .feedback-section {\n  background: #fff;\n  border-radius: 16rpx;\n  padding: 30rpx;\n  margin-bottom: 20rpx;\n}\n\n.section-title {\n  display: flex;\n  align-items: center;\n  gap: 12rpx;\n  margin-bottom: 30rpx;\n  padding-bottom: 16rpx;\n  border-bottom: 2rpx solid #f0f0f0;\n\n  text {\n    font-size: 30rpx;\n    font-weight: 600;\n    color: #333;\n  }\n}\n\n.rating-container {\n  text-align: center;\n\n  .rating-label {\n    font-size: 28rpx;\n    color: #666;\n    display: block;\n    margin-bottom: 30rpx;\n  }\n\n  .rating-stars {\n    display: flex;\n    justify-content: center;\n    gap: 20rpx;\n    margin-bottom: 20rpx;\n\n    .star-item {\n      cursor: pointer;\n      transition: transform 0.2s;\n\n      &:active {\n        transform: scale(0.9);\n      }\n    }\n  }\n\n  .rating-text {\n    font-size: 26rpx;\n    color: #666;\n  }\n}\n\n.rating-dimensions {\n  margin-top: 40rpx;\n  padding-top: 30rpx;\n  border-top: 2rpx solid #f0f0f0;\n\n  .dimension-item {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 30rpx;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n\n    .dimension-label {\n      font-size: 26rpx;\n      color: #333;\n      min-width: 120rpx;\n    }\n\n    .dimension-stars {\n      display: flex;\n      gap: 12rpx;\n\n      .mini-star {\n        cursor: pointer;\n        transition: transform 0.2s;\n\n        &:active {\n          transform: scale(0.9);\n        }\n      }\n    }\n  }\n}\n\n.feedback-section {\n  .feedback-textarea {\n    width: 100%;\n    min-height: 200rpx;\n    padding: 24rpx;\n    border: 2rpx solid #e8e8e8;\n    border-radius: 12rpx;\n    font-size: 28rpx;\n    background: #fafafa;\n    margin-bottom: 12rpx;\n\n    &::placeholder {\n      color: #999;\n    }\n  }\n\n  .char-count {\n    font-size: 24rpx;\n    color: #999;\n    text-align: right;\n    display: block;\n    margin-bottom: 30rpx;\n  }\n\n  .quick-tags {\n    .tags-title {\n      font-size: 26rpx;\n      color: #333;\n      font-weight: 500;\n      display: block;\n      margin-bottom: 20rpx;\n    }\n\n    .tag-list {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 16rpx;\n\n      .tag-item {\n        padding: 16rpx 24rpx;\n        background: #f8f9fa;\n        border: 2rpx solid #e9ecef;\n        border-radius: 24rpx;\n        font-size: 24rpx;\n        color: #666;\n        cursor: pointer;\n        transition: all 0.2s;\n\n        &.active {\n          background: #f0f5ff;\n          border-color: #3b5598;\n          color: #3b5598;\n        }\n\n        &:active {\n          transform: scale(0.95);\n        }\n      }\n    }\n  }\n}\n\n.submit-section {\n  margin-top: 40rpx;\n\n  .submit-btn {\n    width: 100%;\n    height: 88rpx;\n    background: linear-gradient(135deg, #3b5598 0%, #2c3e50 100%);\n    border-radius: 44rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: #fff;\n    font-size: 32rpx;\n    font-weight: 500;\n    border: none;\n\n    &:disabled {\n      opacity: 0.6;\n    }\n\n    u-icon, u-loading-icon {\n      margin-right: 12rpx;\n    }\n  }\n}\n\n.loading-state, .error-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 60vh;\n  padding: 40rpx;\n\n  text {\n    font-size: 28rpx;\n    color: #999;\n    margin-top: 20rpx;\n  }\n\n  .error-text {\n    color: #666;\n    margin-bottom: 40rpx;\n  }\n\n  .retry-btn {\n    height: 80rpx;\n    background: #3b5598;\n    color: #fff;\n    border-radius: 40rpx;\n    padding: 0 60rpx;\n    font-size: 28rpx;\n    border: none;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rate.vue?vue&type=style&index=0&id=355b3f22&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rate.vue?vue&type=style&index=0&id=355b3f22&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1766736710465\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}