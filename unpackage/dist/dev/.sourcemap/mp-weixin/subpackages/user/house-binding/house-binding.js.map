{"version":3,"sources":["uni-app:///main.js","webpack:////Users/salvater/web/kai-nan/zhi-hui-wu-ye/ycwyxcx-app/subpackages/user/house-binding/house-binding.vue?3b89","webpack:////Users/salvater/web/kai-nan/zhi-hui-wu-ye/ycwyxcx-app/subpackages/user/house-binding/house-binding.vue?44fd","webpack:////Users/salvater/web/kai-nan/zhi-hui-wu-ye/ycwyxcx-app/subpackages/user/house-binding/house-binding.vue?f642","webpack:////Users/salvater/web/kai-nan/zhi-hui-wu-ye/ycwyxcx-app/subpackages/user/house-binding/house-binding.vue?7112","uni-app:///subpackages/user/house-binding/house-binding.vue","webpack:////Users/salvater/web/kai-nan/zhi-hui-wu-ye/ycwyxcx-app/subpackages/user/house-binding/house-binding.vue?431e","webpack:////Users/salvater/web/kai-nan/zhi-hui-wu-ye/ycwyxcx-app/subpackages/user/house-binding/house-binding.vue?4a40"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","formData","realName","phone","communityId","communityName","buildingId","buildingName","roomId","roomName","relationType","relationName","remark","communityList","communityIndex","buildingList","buildingIndex","roomList","roomIndex","relationList","id","name","relationIndex","isLoading","computed","selectedCommunity","selectedBuilding","selectedRoom","selectedRelation","canSubmit","console","onLoad","methods","initPage","loadCommunities","result","uni","title","icon","loadBuildings","loadRooms","onCommunityChange","onBuildingChange","onRoomChange","onRelationChange","submitBinding","setTimeout","url","goToBindingsList"],"mappings":"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","file":"subpackages/user/house-binding/house-binding.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subpackages/user/house-binding/house-binding.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./house-binding.vue?vue&type=template&id=6cbba14d&\"\nvar renderjs\nimport script from \"./house-binding.vue?vue&type=script&lang=js&\"\nexport * from \"./house-binding.vue?vue&type=script&lang=js&\"\nimport style0 from \"./house-binding.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpackages/user/house-binding/house-binding.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./house-binding.vue?vue&type=template&id=6cbba14d&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.communityList.length\n  var g1 = _vm.buildingList.length\n  var g2 = _vm.roomList.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./house-binding.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./house-binding.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"house-binding-page\">\n    <view class=\"content\">\n      <view class=\"form-section\">\n        <!-- ÊâãÊú∫Âè∑ËæìÂÖ• -->\n        <view class=\"form-item\">\n          <text class=\"label\">ÁúüÂÆûÂßìÂêç</text>\n          <input\n              v-model=\"formData.realName\"\n              class=\"input\"\n              type=\"text\"\n              placeholder=\"ËØ∑ËæìÂÖ•ÁúüÂÆûÂßìÂêç\"\n              maxlength=\"20\"\n          />\n        </view>\n\n        <!-- ÊâãÊú∫Âè∑ËæìÂÖ• -->\n        <view class=\"form-item\">\n          <text class=\"label\">ÊâãÊú∫Âè∑</text>\n          <input\n            v-model=\"formData.phone\"\n            class=\"input\"\n            type=\"number\"\n            placeholder=\"ËØ∑ËæìÂÖ•ÊâãÊú∫Âè∑\"\n            maxlength=\"11\"\n          />\n        </view>\n\n        <!-- Â∞èÂå∫ÈÄâÊã© -->\n        <view class=\"form-item\">\n          <text class=\"label\">ÈÄâÊã©Â∞èÂå∫</text>\n          <picker\n            @change=\"onCommunityChange\"\n            :value=\"communityIndex\"\n            :range=\"communityList\"\n            range-key=\"name\"\n            :disabled=\"communityList.length === 0\"\n          >\n            <view class=\"picker-content\">\n              <text class=\"picker-text\" :class=\"{ placeholder: !selectedCommunity }\">\n                {{ selectedCommunity ? selectedCommunity.name : 'ËØ∑ÈÄâÊã©Â∞èÂå∫' }}\n              </text>\n              <text class=\"picker-arrow\">‚ñº</text>\n            </view>\n          </picker>\n        </view>\n\n        <!-- Ê•ºÊ†ãÈÄâÊã© -->\n        <view class=\"form-item\">\n          <text class=\"label\">ÈÄâÊã©Ê•ºÊ†ã</text>\n          <picker\n            @change=\"onBuildingChange\"\n            :value=\"buildingIndex\"\n            :range=\"buildingList\"\n            range-key=\"name\"\n            :disabled=\"buildingList.length === 0\"\n          >\n            <view class=\"picker-content\">\n              <text class=\"picker-text\" :class=\"{ placeholder: !selectedBuilding }\">\n                {{ selectedBuilding ? selectedBuilding.name : 'ËØ∑ÈÄâÊã©Ê•ºÊ†ã' }}\n              </text>\n              <text class=\"picker-arrow\">‚ñº</text>\n            </view>\n          </picker>\n        </view>\n\n        <!-- ÊàøÈó¥ÈÄâÊã© -->\n        <view class=\"form-item\">\n          <text class=\"label\">ÈÄâÊã©ÊàøÈó¥</text>\n          <picker\n            @change=\"onRoomChange\"\n            :value=\"roomIndex\"\n            :range=\"roomList\"\n            range-key=\"roomNumber\"\n            :disabled=\"roomList.length === 0\"\n          >\n            <view class=\"picker-content\">\n              <text class=\"picker-text\" :class=\"{ placeholder: !selectedRoom }\">\n                {{ selectedRoom ? selectedRoom.roomNumber : 'ËØ∑ÈÄâÊã©ÊàøÈó¥' }}\n              </text>\n              <text class=\"picker-arrow\">‚ñº</text>\n            </view>\n          </picker>\n        </view>\n\n        <!-- ‰∏ö‰∏ªÂÖ≥Á≥ª -->\n        <view class=\"form-item\">\n          <text class=\"label\">‰∏ö‰∏ªÂÖ≥Á≥ª</text>\n          <picker\n            @change=\"onRelationChange\"\n            :value=\"relationIndex\"\n            :range=\"relationList\"\n            range-key=\"name\"\n          >\n            <view class=\"picker-content\">\n              <text class=\"picker-text\" :class=\"{ placeholder: !selectedRelation }\">\n                {{ selectedRelation ? selectedRelation.name : 'ËØ∑ÈÄâÊã©‰∏ö‰∏ªÂÖ≥Á≥ª' }}\n              </text>\n              <text class=\"picker-arrow\">‚ñº</text>\n            </view>\n          </picker>\n        </view>\n\n        <!-- Â§áÊ≥® -->\n        <view class=\"form-item\">\n          <text class=\"label\">Â§áÊ≥®</text>\n          <textarea\n            v-model=\"formData.remark\"\n            class=\"textarea\"\n            placeholder=\"ËØ∑ËæìÂÖ•Â§áÊ≥®‰ø°ÊÅØÔºàÈÄâÂ°´Ôºâ\"\n            maxlength=\"200\"\n          />\n        </view>\n\n        <!-- Êèê‰∫§ÊåâÈíÆ -->\n        <button\n          class=\"submit-btn\"\n          @click=\"submitBinding\"\n          :class=\"{ disabled: !canSubmit }\"\n          :disabled=\"!canSubmit\"\n        >\n          Êèê‰∫§ÁªëÂÆö\n        </button>\n      </view>\n    </view>\n\n    <!-- Â∫ïÈÉ®ÊÇ¨ÊµÆÊåâÈíÆ - Êü•ÁúãÁªëÂÆöËÆ∞ÂΩï -->\n    <view class=\"fab-container\">\n      <button class=\"fab-button\" @click=\"goToBindingsList\">\n        <text class=\"fab-icon\">üìã</text>\n        <text class=\"fab-text\">ÁªëÂÆöËÆ∞ÂΩï</text>\n      </button>\n    </view>\n  </view>\n</template>\n\n<script>\nimport { getCommunities, getBuildings, getRooms, submitHouseBinding } from '../../../api/list/house-binding.js'\n\nexport default {\n  data() {\n    return {\n      // Ë°®ÂçïÊï∞ÊçÆ - ÂåÖÂê´ÊâÄÊúâÈúÄË¶ÅÊèê‰∫§ÁöÑÂ≠óÊÆµ\n      formData: {\n        realName: '',     // ÁúüÂÆûÂßìÂêç\n        phone: '',        // ÊâãÊú∫Âè∑\n        communityId: '',  // Â∞èÂå∫ID\n        communityName: '',// Â∞èÂå∫ÂêçÁß∞\n        buildingId: '',   // Ê•ºÊ†ãID\n        buildingName: '', // Ê•ºÊ†ãÂêçÁß∞\n        roomId: '',       // ÊàøÈó¥ID\n        roomName: '',     // ÊàøÈó¥ÂêçÁß∞\n        relationType: '', // ‰∏ö‰∏ªÂÖ≥Á≥ªID\n        relationName: '', // ‰∏ö‰∏ªÂÖ≥Á≥ªÂêçÁß∞\n        remark: ''        // Â§áÊ≥®\n      },\n\n      // Â∞èÂå∫Áõ∏ÂÖ≥\n      communityList: [],\n      communityIndex: null,\n\n      // Ê•ºÊ†ãÁõ∏ÂÖ≥\n      buildingList: [],\n      buildingIndex: null,\n\n      // ÊàøÈó¥Áõ∏ÂÖ≥\n      roomList: [],\n      roomIndex: null,\n\n      // ‰∏ö‰∏ªÂÖ≥Á≥ª\n      relationList: [\n        { id: 1, name: '‰∏ö‰∏ª' },\n        { id: 2, name: 'ÂÆ∂‰∫∫' },\n        { id: 3, name: 'ÁßüÂÆ¢' },\n        { id: 4, name: 'ÂÖ∂‰ªñ' }\n      ],\n      relationIndex: null,\n\n      // Âä†ËΩΩÁä∂ÊÄÅ\n      isLoading: false\n    }\n  },\n\n  computed: {\n    // ÂΩìÂâçÈÄâ‰∏≠ÁöÑÂ∞èÂå∫\n    selectedCommunity() {\n      return this.communityList[this.communityIndex] || null\n    },\n\n    // ÂΩìÂâçÈÄâ‰∏≠ÁöÑÊ•ºÊ†ã\n    selectedBuilding() {\n      return this.buildingList[this.buildingIndex] || null\n    },\n\n    // ÂΩìÂâçÈÄâ‰∏≠ÁöÑÊàøÈó¥\n    selectedRoom() {\n      return this.roomList[this.roomIndex] || null\n    },\n\n    // ÂΩìÂâçÈÄâ‰∏≠ÁöÑ‰∏ö‰∏ªÂÖ≥Á≥ª\n    selectedRelation() {\n      return this.relationList[this.relationIndex] || null\n    },\n\n    // ÊòØÂê¶ÂèØ‰ª•Êèê‰∫§\n    canSubmit() {\n      let realName = this.formData.realName\n      let phone = this.formData.phone\n      let communityId = this.formData.communityId\n      let buildingId = this.formData.buildingId\n      let roomId = this.formData.roomId\n      let relationType = this.formData.relationType\n      // remark ‰øùÊåÅÈùûÂøÖÂ°´\n\n      // Ë∞ÉËØï‰ø°ÊÅØ - Âú®ÂºÄÂèëÊó∂Ê£ÄÊü•ÂêÑÂ≠óÊÆµÁä∂ÊÄÅ\n      console.log('Ë°®ÂçïÈ™åËØÅÁä∂ÊÄÅ:', {\n        realName: !!realName,\n        phone: !!phone,\n        communityId: !!communityId,\n        buildingId: !!buildingId,\n        roomId: !!roomId,\n        relationType: !!relationType,\n        canSubmit: !!(realName && phone && communityId && buildingId && roomId && relationType)\n      })\n\n      return realName && phone && communityId && buildingId && roomId && relationType\n    }\n  },\n\n  onLoad() {\n    let wyUserInfo =uni.getStorageSync('wyUserInfo')\n    this.formData.phone = wyUserInfo.cellphone\n    this.initPage()\n  },\n\n  methods: {\n    // ÂàùÂßãÂåñÈ°µÈù¢\n    async initPage() {\n      await this.loadCommunities()\n    },\n\n    // Âä†ËΩΩÂ∞èÂå∫ÂàóË°®\n    async loadCommunities() {\n      try {\n        const result = await getCommunities()\n        if (result && Array.isArray(result)) {\n          this.communityList = result\n        }\n      } catch (error) {\n        console.error('Ëé∑ÂèñÂ∞èÂå∫ÂàóË°®Â§±Ë¥•:', error)\n        uni.showToast({ title: 'Ëé∑ÂèñÂ∞èÂå∫ÂàóË°®Â§±Ë¥•', icon: 'none' })\n      }\n    },\n\n    // Âä†ËΩΩÊ•ºÊ†ãÂàóË°®\n    async loadBuildings(communityId) {\n      if (!communityId) return\n\n      try {\n        const result = await getBuildings(communityId)\n        if (result && Array.isArray(result)) {\n          this.buildingList = result\n        }\n      } catch (error) {\n        console.error('Ëé∑ÂèñÊ•ºÊ†ãÂàóË°®Â§±Ë¥•:', error)\n        uni.showToast({\n          title: 'Ëé∑ÂèñÊ•ºÊ†ãÂàóË°®Â§±Ë¥•',\n          icon: 'none'\n        })\n      }\n    },\n\n    // Âä†ËΩΩÊàøÈó¥ÂàóË°®\n    async loadRooms(communityId, buildingId) {\n      if (!communityId || !buildingId) return\n\n      try {\n        const result = await getRooms(communityId, buildingId)\n        if (result && Array.isArray(result)) {\n          this.roomList = result\n        }\n      } catch (error) {\n        console.error('Ëé∑ÂèñÊàøÈó¥ÂàóË°®Â§±Ë¥•:', error)\n        uni.showToast({\n          title: 'Ëé∑ÂèñÊàøÈó¥ÂàóË°®Â§±Ë¥•',\n          icon: 'none'\n        })\n      }\n    },\n\n    // Â∞èÂå∫ÈÄâÊã©ÂèòÂåñ\n    onCommunityChange(e) {\n      this.communityIndex = e.detail.value\n      const selected = this.communityList[this.communityIndex]\n\n      if (selected) {\n        // Êõ¥Êñ∞formData\n        this.formData.communityId = selected.id\n        this.formData.communityName = selected.name\n\n        // Ê∏ÖÁ©∫‰∏ãÁ∫ßÈÄâÊã©\n        this.formData.buildingId = ''\n        this.formData.buildingName = ''\n        this.formData.roomId = ''\n        this.formData.roomName = ''\n\n        this.buildingList = []\n        this.roomList = []\n        this.buildingIndex = null\n        this.roomIndex = null\n\n        this.loadBuildings(selected.id)\n      }\n    },\n\n    // Ê•ºÊ†ãÈÄâÊã©ÂèòÂåñ\n    onBuildingChange(e) {\n      this.buildingIndex = e.detail.value\n      const selected = this.buildingList[this.buildingIndex]\n\n      if (selected) {\n        // Êõ¥Êñ∞formData\n        this.formData.buildingId = selected.id\n        this.formData.buildingName = selected.name\n\n        // Ê∏ÖÁ©∫‰∏ãÁ∫ßÈÄâÊã©\n        this.formData.roomId = ''\n        this.formData.roomName = ''\n\n        this.roomList = []\n        this.roomIndex = null\n\n        this.loadRooms(this.formData.communityId, selected.id)\n      }\n    },\n\n    // ÊàøÈó¥ÈÄâÊã©ÂèòÂåñ\n    onRoomChange(e) {\n      this.roomIndex = e.detail.value\n      const selected = this.roomList[this.roomIndex]\n\n      if (selected) {\n        // Êõ¥Êñ∞formData\n        this.formData.roomId = selected.id\n        // ‰ΩøÁî®roomNumberÂ≠óÊÆµ‰øùÊåÅ‰∏ÄËá¥ÊÄßÔºåÂ¶ÇÊûúÊ≤°ÊúâÂàô‰ΩøÁî®name‰Ωú‰∏∫Â§áÈÄâ\n        this.formData.roomName = selected.roomNumber || selected.name\n      }\n    },\n\n    // ‰∏ö‰∏ªÂÖ≥Á≥ªÈÄâÊã©ÂèòÂåñ\n    onRelationChange(e) {\n      this.relationIndex = e.detail.value\n      const selected = this.relationList[this.relationIndex]\n\n      if (selected) {\n        // Êõ¥Êñ∞formData\n        this.formData.relationType = selected.id\n        this.formData.relationName = selected.name\n      }\n    },\n\n    // Êèê‰∫§ÁªëÂÆö\n    async submitBinding() {\n      if (!this.canSubmit) {\n        uni.showToast({\n          title: 'ËØ∑ÂÆåÂñÑÊâÄÊúâÂøÖÂ°´‰ø°ÊÅØ',\n          icon: 'none'\n        })\n        return\n      }\n\n      try {\n        uni.showLoading({ title: 'Êèê‰∫§‰∏≠...' })\n\n        // Áõ¥Êé•Êèê‰∫§formData\n        const result = await submitHouseBinding(this.formData)\n\n        uni.hideLoading()\n\n        if (result) {\n          uni.showToast({\n            title: 'ÁªëÂÆöÊàêÂäü',\n            icon: 'success'\n          })\n\n          setTimeout(() => {\n            uni.navigateTo({ url: '/pages/my/my' })\n          }, 1500)\n        }\n      } catch (error) {\n        uni.hideLoading()\n        console.error('Êèê‰∫§ÁªëÂÆöÂ§±Ë¥•:', error)\n        uni.showToast({\n          title: error.message || 'Êèê‰∫§Â§±Ë¥•ÔºåËØ∑ÈáçËØï',\n          icon: 'none'\n        })\n      }\n    },\n\n    // Ë∑≥ËΩ¨Âà∞ÁªëÂÆöËÆ∞ÂΩïÂàóË°®\n    goToBindingsList() {\n      uni.navigateTo({\n        url: '/subpackages/user/house-binding/house-bindings'\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.house-binding-page {\n  background: #f5f5f5;\n  min-height: 100vh;\n\n  .content {\n    padding: 35rpx;\n\n    .form-section {\n      background: white;\n      border-radius: 16rpx;\n      padding: 40rpx 30rpx;\n\n      .form-item {\n        margin-bottom: 40rpx;\n\n        .label {\n          display: block;\n          font-size: 28rpx;\n          color: #333;\n          margin-bottom: 15rpx;\n          font-weight: 500;\n        }\n\n\n        // ÈÄâÊã©Âô®Ê†∑Âºè\n        .picker-content {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          height: 80rpx;\n          border-bottom: 1rpx solid #e0e0e0;\n          padding: 0 20rpx;\n\n          .picker-text {\n            flex: 1;\n            font-size: 28rpx;\n            color: #333;\n\n            &.placeholder {\n              color: #999;\n            }\n          }\n\n          .picker-arrow {\n            font-size: 20rpx;\n            color: #999;\n            transition: transform 0.3s;\n          }\n        }\n\n        // ËæìÂÖ•Ê°ÜÊ†∑Âºè\n        .input {\n          height: 80rpx;\n          border-bottom: 1rpx solid #e0e0e0;\n          padding: 0 20rpx;\n          font-size: 28rpx;\n        }\n\n        // ÊñáÊú¨ÂüüÊ†∑Âºè\n        .textarea {\n          width: 100%;\n          min-height: 120rpx;\n          border: 1rpx solid #e0e0e0;\n          border-radius: 8rpx;\n          padding: 20rpx;\n          font-size: 28rpx;\n          line-height: 1.5;\n          box-sizing: border-box;\n        }\n      }\n\n      // Êèê‰∫§ÊåâÈíÆÊ†∑Âºè\n      .submit-btn {\n        width: 100%;\n        height: 80rpx;\n        background: #3b5598;\n        color: white;\n        border: none;\n        border-radius: 8rpx;\n        font-size: 28rpx;\n        font-weight: 600;\n        margin-top: 20rpx;\n        transition: all 0.3s;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        letter-spacing: 2rpx;\n\n\n        &.disabled {\n          background: rgba(59, 85, 152, 0.8);\n        }\n\n        &:not(.disabled):active {\n          background: #2d4a7d;\n          transform: scale(0.98);\n        }\n      }\n    }\n  }\n\n  // Â∫ïÈÉ®ÊÇ¨ÊµÆÊåâÈíÆ\n  .fab-container {\n    position: fixed;\n    bottom: 40rpx;\n    left: 50%;\n    transform: translateX(-50%);\n    z-index: 1000;\n\n    .fab-button {\n      background: #3b5598;\n      color: white;\n      border: none;\n      border-radius: 50rpx;\n      height: 90rpx;\n      padding: 0 40rpx;\n      display: flex;\n      align-items: center;\n      gap: 12rpx;\n      box-shadow: 0 4rpx 20rpx rgba(59, 85, 152, 0.3);\n      font-size: 28rpx;\n      font-weight: 600;\n\n      .fab-icon {\n        font-size: 36rpx;\n        line-height: 1;\n      }\n\n      .fab-text {\n        line-height: 1;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./house-binding.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./house-binding.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1763993382572\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}